



# Schriftzug INT | ABN auf alles grün:

GG = [2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,0,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,0,2016,0,0,2016,2016,0,2016,0,0,0,2016,2016,0,2016,2016,0,0,2016,2016,0,0,2016,2016,0,0,2016,2016,0,2016,2016,2016,0,2016,0,0,2016,2016,0,2016,2016,0,2016,2016,2016,0,2016,0,2016,2016,0,2016,0,2016,0,2016,0,0,2016,2016,0,2016,2016,2016,0,2016,0,2016,0,2016,0,2016,2016,0,2016,2016,2016,0,2016,0,2016,2016,0,2016,0,0,2016,2016,0,2016,0,2016,0,2016,2016,2016,0,2016,0,2016,0,2016,0,2016,2016,0,2016,2016,2016,0,2016,0,0,0,0,2016,0,2016,0,2016,0,2016,0,2016,0,2016,2016,2016,0,2016,0,2016,2016,0,0,2016,2016,0,2016,2016,2016,0,2016,0,2016,2016,0,2016,0,2016,0,2016,0,2016,2016,0,0,2016,2016,2016,0,2016,0,2016,2016,0,0,2016,2016,0,2016,2016,2016,0,2016,0,2016,2016,0,2016,0,0,2016,2016,0,2016,2016,0,0,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,0,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016]

# Schriftzug INT | ABN auf alles rot: Ersetze 2016 durch 63488

RR = [63488,63488,63488,63488,63488,63488,63488,63488,63488,63488,63488,63488,63488,63488,63488,0,63488,63488,63488,63488,63488,63488,63488,63488,63488,63488,63488,63488,63488,63488,63488,63488,63488,63488,0,63488,0,0,63488,63488,0,63488,0,0,0,63488,63488,0,63488,63488,0,0,63488,63488,0,0,63488,63488,0,0,63488,63488,0,63488,63488,63488,0,63488,0,0,63488,63488,0,63488,63488,0,63488,63488,63488,0,63488,0,63488,63488,0,63488,0,63488,0,63488,0,0,63488,63488,0,63488,63488,63488,0,63488,0,63488,0,63488,0,63488,63488,0,63488,63488,63488,0,63488,0,63488,63488,0,63488,0,0,63488,63488,0,63488,0,63488,0,63488,63488,63488,0,63488,0,63488,0,63488,0,63488,63488,0,63488,63488,63488,0,63488,0,0,0,0,63488,0,63488,0,63488,0,63488,0,63488,0,63488,63488,63488,0,63488,0,63488,63488,0,0,63488,63488,0,63488,63488,63488,0,63488,0,63488,63488,0,63488,0,63488,0,63488,0,63488,63488,0,0,63488,63488,63488,0,63488,0,63488,63488,0,0,63488,63488,0,63488,63488,63488,0,63488,0,63488,63488,0,63488,0,0,63488,63488,0,63488,63488,0,0,63488,63488,63488,63488,63488,63488,63488,63488,63488,63488,63488,63488,63488,63488,63488,63488,0,63488,63488,63488,63488,63488,63488,63488,63488,63488,63488,63488,63488,63488,63488,63488,63488]


# Schriftzug INT | ABN auf INT rot, ABN grün:

RG = [63488,63488,63488,63488,63488,63488,63488,63488,63488,63488,63488,63488,63488,63488,63488,0,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,63488,63488,0,63488,0,0,63488,63488,0,63488,0,0,0,63488,63488,0,2016,2016,0,0,2016,2016,0,0,2016,2016,0,0,2016,2016,0,2016,63488,63488,0,63488,0,0,63488,63488,0,63488,63488,0,63488,63488,63488,0,2016,0,2016,2016,0,2016,0,2016,0,2016,0,0,2016,2016,0,2016,63488,63488,0,63488,0,63488,0,63488,0,63488,63488,0,63488,63488,63488,0,2016,0,2016,2016,0,2016,0,0,2016,2016,0,2016,0,2016,0,2016,63488,63488,0,63488,0,63488,0,63488,0,63488,63488,0,63488,63488,63488,0,2016,0,0,0,0,2016,0,2016,0,2016,0,2016,0,2016,0,2016,63488,63488,0,63488,0,63488,63488,0,0,63488,63488,0,63488,63488,63488,0,2016,0,2016,2016,0,2016,0,2016,0,2016,0,2016,2016,0,0,2016,63488,63488,0,63488,0,63488,63488,0,0,63488,63488,0,63488,63488,63488,0,2016,0,2016,2016,0,2016,0,0,2016,2016,0,2016,2016,0,0,2016,63488,63488,63488,63488,63488,63488,63488,63488,63488,63488,63488,63488,63488,63488,63488,0,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016]

# Schriftzug INT | ABN auf INT grün, ABN rot:

GR = [2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,0,63488,63488,63488,63488,63488,63488,63488,63488,63488,63488,63488,63488,63488,63488,63488,63488,2016,2016,0,2016,0,0,2016,2016,0,2016,0,0,0,2016,2016,0,63488,63488,0,0,63488,63488,0,0,63488,63488,0,0,63488,63488,0,63488,2016,2016,0,2016,0,0,2016,2016,0,2016,2016,0,2016,2016,2016,0,63488,0,63488,63488,0,63488,0,63488,0,63488,0,0,63488,63488,0,63488,2016,2016,0,2016,0,2016,0,2016,0,2016,2016,0,2016,2016,2016,0,63488,0,63488,63488,0,63488,0,0,63488,63488,0,63488,0,63488,0,63488,2016,2016,0,2016,0,2016,0,2016,0,2016,2016,0,2016,2016,2016,0,63488,0,0,0,0,63488,0,63488,0,63488,0,63488,0,63488,0,63488,2016,2016,0,2016,0,2016,2016,0,0,2016,2016,0,2016,2016,2016,0,63488,0,63488,63488,0,63488,0,63488,0,63488,0,63488,63488,0,0,63488,2016,2016,0,2016,0,2016,2016,0,0,2016,2016,0,2016,2016,2016,0,63488,0,63488,63488,0,63488,0,0,63488,63488,0,63488,63488,0,0,63488,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,0,63488,63488,63488,63488,63488,63488,63488,63488,63488,63488,63488,63488,63488,63488,63488,63488]



import requests, json

GREEN = "#32612D"
RED = "#B90E0A"

abnURL = "https://reporter.vendodash.noncd.rz.db.de/testStatus?stage=iat--vendo-abn&testType=iat--vendo-abn"
intURL = "https://reporter.vendodash.noncd.rz.db.de/testStatus?stage=tst--vendo-int&testType=tst--vendo-int"


envAbn = requests.get(abnURL)
envAbn = json.loads(envAbn.text)
colorABN = RED
if envAbn["result"] == "SUCCESS":
    colorABN = GREEN

envInt = requests.get(intURL)
envInt = json.loads(envInt.text)
colorINT = RED
if envInt["result"] == "SUCCESS":
    colorINT = GREEN

dataMatrix = GG
if colorINT == RED and colorABN == RED:
    dataMatrix = RR
elif colorINT == RED and colorABN == GREEN:
    dataMatrix = RG
elif colorINT == GREEN and colorABN == RED:
    dataMatrix = GR
else:
    dataMatrix = GG

headers = {
    'Content-Type': 'application/json',
}
json_data = {
    'switchAnimation': {
        'aktiv': True,
        'animation': 'random',
        # fade / coloredBarWipe / zigzagWipe / bitmapWipe / random
    },
    'bitmap': {
        'data': dataMatrix,
        'position': {
            'x': 0,
            'y': 0,
        },
        'size': {
            'width': 32,
            'height': 8,
        },
    }
}
# TODO: error handling
response = requests.post('http://192.168.50.131/api/screen', headers=headers, json=json_data)